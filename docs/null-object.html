<!DOCTYPE html>
<html class="no-js" id="top">
<head>
    <title>ProxyManager</title>

    <meta name="description" content="A proxyManager write in php" />
    <meta name="keywords" content="ProxyManager, proxy, manager, ocramius, Marco Pivetta, php" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600' rel='stylesheet' type='text/css'>
    <link href="https://ocramius.github.io/ProxyManager/css/main.css" rel="stylesheet" />
    <link href="https://ocramius.github.io/ProxyManager/css/highlight.dark.css" rel="stylesheet" />
    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="favicon.ico">
</head>
<body>

<header class="site-header">
<div class="container">
<h1><a href="index.html"><img alt="ProxyManager" src="https://ocramius.github.io/ProxyManager/img/block.png" /></a></h1>

<nav class="main-nav" role="navigation">
<ul>
    <li><a href="https://github.com/Ocramius/ProxyManager" target="_blank">Github</a></li>

            <li>
            <a href="#">Version</a>

            <ul>
                                    <li><a href="/1.0.0">v1.0.0</a></li>
                                    <li><a href="/2.0.0">v2.0.0</a></li>
                            </ul>
        </li>
    </ul>
    <div class="bcms-clearfix"></div>
</nav>
</div>
</header>
<main role="main">
<section class="component-content"><div class="page-title-wrapper">
<div class="container">
    <img src="https://github.com/Ocramius/ProxyManager/raw/master/proxy-manager.png">
    <h2 class="page-title">Proxy Manager</h2>
</div>
</div>

<div class="component-demo" id="live-demo">
    <div class="container">
            <div class="main-wrapper" style="text-align: right">
                <iframe src="http://ghbtns.com/github-btn.html?user=ocramius&amp;repo=ProxyManager&amp;type=fork&amp;count=true&amp;size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="310" height="40"></iframe>

                <iframe src="http://ghbtns.com/github-btn.html?user=ocramius&amp;repo=ProxyManager&amp;type=watch&amp;count=true&amp;size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200" height="40"></iframe>

            </div>
        <div class="bcms-clearfix bcms-clearfix"></div>
    </div>
</div>
<div class="component-info">
<div class="container">

<aside class="sidebar">
    <nav class="spy-nav">
        <ul>
            <li><a href="https://ocramius.github.io/ProxyManager/index.html">Intro</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/lazy-loading-value-holder.html">Virtual Proxy</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/null-object.html">Null Objects</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/lazy-loading-ghost-object.html">Ghost Objects</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/remote-object.html">Remote Object</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/contributing.html">Contributing</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/credits.html">Credits</a></li>
            <li><a href="https://ocramius.github.io/ProxyManager/docs/copyright.html">Copyright</a></li>
        </ul>
    </nav>
<div class="bcms-clearfix bcms-clearfix"></div>
<a class="btn btn-action btn-full download-component"
    href="https://ocramius.github.io/ProxyManager/docs/download.html">Download</a>
    <div class="bcms-clearfix"></div>
</aside>

<div class="content">
    
        <h1>Null Object Proxy</h1>
<p>A Null Object proxy is a <a href="http://en.wikipedia.org/wiki/Null_Object_pattern">null object pattern</a> implementation.
The proxy factory creates a new object with defined neutral behavior based on an other object, class name or interface.</p>
<h2>What is null object proxy ?</h2>
<p>In your application, when you can't return the object related to the request, the consumer of the model must check
for the return value and handle the failing condition gracefully, thus generating an explosion of conditionals throughout your code.
Fortunately, this seemingly-tangled situation can be sorted out simply by creating a polymorphic implementation of the
domain object, which would implement the same interface as the one of the object in question, only that its methods
wouldnâ€™t do anything, therefore offloading client code from doing repetitive checks for ugly null values when the operation
is executed.</p>
<h2>Usage examples</h2>
<pre><code class="language-php">class UserMapper
{   
    private $adapter;

    public function __construct(DatabaseAdapterInterface $adapter) {
        $this-&gt;adapter = $adapter;
    }

    public function fetchById($id) {
        $this-&gt;adapter-&gt;select('users', ['id' =&gt; $id]);

        if (!$row = $this-&gt;adapter-&gt;fetch()) {
            return null;
        }

        return $this-&gt;createUser($row);
    }

    private function createUser(array $row) {
        $user = new Entity\User($row['name'], $row['email']);

        $user-&gt;setId($row['id']);

        return $user;
    }
}</code></pre>
<p>If you want to remove conditionals from client code, you need to have a version of the entity conforming to the corresponding
interface. With the Null Object Proxy, you can build this object :</p>
<pre><code class="language-php">$factory = new \ProxyManager\Factory\NullObjectFactory();

$nullUser = $factory-&gt;createProxy('Entity\User');

var_dump($nullUser-&gt;getName()); // empty return</code></pre>
<p>You can now return a valid entity :</p>
<pre><code class="language-php">class UserMapper
{   
    private $adapter;

    public function __construct(DatabaseAdapterInterface $adapter) {
        $this-&gt;adapter = $adapter;
    }

    public function fetchById($id) {
        $this-&gt;adapter-&gt;select('users', ['id' =&gt; $id]);

        return $this-&gt;createUser($this-&gt;adapter-&gt;fetch());
    }

    private function createUser($row) {
        if (!$row) {
            $factory = new \ProxyManager\Factory\NullObjectFactory();

            return $factory-&gt;createProxy('Entity\User');
        }

        $user = new Entity\User($row['name'], $row['email']);

        $user-&gt;setId($row['id']);

        return $user; 
    }
}</code></pre>
<h2>Proxying interfaces</h2>
<p>You can also generate proxies from an interface FQCN. By proxying an interface, you will only be able to access the
methods defined by the interface itself, and like with the object, the methods are empty.</p>
<h2>Tuning performance for production</h2>
<p>See <a href="tuning-for-production.html">Tuning ProxyManager for Production</a>.</p>

    </div>

</main>

    <footer class="site-footer" role="contentinfo">
        <div class="container">
            <div class="footer-logos">
                <ul>
                    <li><a href="https://ocramius.github.io/ProxyManager/index.html">Intro</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/lazy-loading-value-holder.html">Virtual Proxy</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/null-object.html">Null Objects</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/lazy-loading-ghost-object.html">Ghost Objects</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/remote-object.html">Remote Object</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/contributing.html">Contributing</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/credits.html">Credits</a> | </li>
                    <li><a href="https://ocramius.github.io/ProxyManager/docs/copyright.html">Copyright</a></li>
                </ul>
            </div>
        </div>

        <div class="bcms-clearfix"></div>
    </footer>
    <div class="bcms-clearfix"></div>
    </body>
</html>
